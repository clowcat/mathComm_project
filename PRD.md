# Math Comm PRD (Product Requirements Document)

## 1. 프로젝트 개요 (Project Overview)

### 1.1. 목표 및 비전 (Goal & Vision)
사용자가 챌린지형 수학 문제를 해결하면서 **성취감을 극대화**하고, 이를 통해 자신만의 **수학적 사고력과 탐구 능력**을 성장시키는 것입니다. 미해결 문제(unsolved problems)를 접하며 수학자의 꿈을 키우고, 레벨 시스템을 통해 자신의 현재 역량과 성장 방향을 객관적으로 파악할 수 있도록 돕습니다.

### 1.2. 대상 사용자 (Target Audience)
전 세계적으로 문제 해결과 사고 실험을 즐기는 **math-nerdy 고등학생 및 대학생**을 주요 대상으로 합니다.
* **고등학생:** 어려운 문제를 통해 논리적 사고와 창의력을 확장하고 미해결 문제에 도전합니다.
* **대학생:** 흥미와 강점에 맞는 수학 분야를 탐색하고, 논문 주제나 연구 방향을 구체화할 수 있습니다.
호기심 많고 수학에 진심인 학습자들이 모여 성장하는 **커뮤니티**를 지향합니다.

### 1.3. 핵심 가치 제안 (Value Proposition)
단순한 계산력 향상 도구가 아니라, 깊이 있는 사고를 유도하고 창의적 문제 해결 과정을 지원하는 학습 환경을 제공합니다.
* **AI 기반 분석:** 사용자의 현재 수준을 정확히 판단하고 유사 레벨의 문제를 자동 추천합니다.
* **다양한 접근 경로 제시:** 하나의 문제에 대해 여러 가지 가능한 접근법을 제시하여 사고를 자극합니다.
* **자신감 고취:** 기초 개념을 함께 제공하여 문제 해결의 출발점을 명확히 하고, "나도 올림피아드 문제를 풀 수 있다"는 자신감을 심어줍니다.

---

## 2. 핵심 기능 명세 (Core Feature Specifications)

### 2.1. 사용자 및 인증 시스템 (User & Auth)
* **요구사항:** 이메일/비밀번호, 소셜 로그인 (Google/Facebook 등) 방식 지원. 사용자 데이터 필드 정의 (닉네임, 진행 단계, RP 등).
* **기술 가이드:** Supabase Auth, JWT 기반 인증 사용.

### 2.2. 문제 풀이 및 제출 (Problem Solving & Submission)
* **문제 제시 (Problem Presentation):**
    * **KaTeX**를 활용하여 수학적으로 정확하고 가독성 높은 형식으로 표시됩니다.
    * UI/UX는 **문제 확인 → 풀이 입력 → 제출의 직관적 플로우**로 구성됩니다.
    * 사용자의 레벨에 맞는 **유사한 문제**가 함께 제시됩니다.
* **컨셉 이해 및 문제 형태 습득 (Concept Understanding & Pattern Learning):**
    * AI는 사용자의 풀이 패턴을 분석해 이해가 부족한 개념을 식별하고, 그에 맞는 **보조 문제(related problems)**를 추천합니다.
* **채점 로직 (Grading Logic):**
    * **A-type (단순 문자열 비교)**과 **B-type (기호 연산 기반 수학적 등가성 판별)** 로직을 적용하여 정확하게 수행됩니다.
    * 제출 후 즉각적인 피드백을 제공하여 오답 원인 파악을 돕습니다.
* **진행 상태 표시 (Progress Tracking):**
    * 현재 단계, 남은 문제 수, 레벨 업까지 필요한 포인트 등 사용자의 진도 현황을 **시각적으로 표시**합니다.

### 2.3. 랭킹 및 통계 (Ranking & Statistics)
* **랭킹 종류 (Ranking Types):**
    * **정복자 랭킹 (Conqueror Ranking):** 특정 난이도/분야 정복 사용자 중심.
    * **시즌 랭킹 (Season Ranking):** 일정 기간(월별, 학기별) 활동 및 성과 반영.
    * **명예의 전당 (Hall of Fame):** 역사적으로 뛰어난 업적을 남긴 사용자 기념.
    * 각 랭킹과 문제에는 고유한 칭호(예: “Euler Master”)가 부여됩니다.
* **RP(랭킹 포인트) 계산 규칙 (Ranking Point Rules):**
    * 기본 RP, 단계 완료 보너스, 최초 정복자 보너스 지급.
    * AI는 사용자의 풀이 패턴을 분석하여 **난이도 보정 점수(Difficulty Adjustment)**를 자동 반영합니다.
* **등급 시스템 (Tier System):**
    * 누적 RP에 따라 브론즈 → 실버 → 골드 → 다이아몬드 → 마스터 등으로 단계적 승급.
    * 등급별로 수학적 상징이 담긴 칭호(예: Bronze – “The Curious Learner”)가 부여됩니다.

---

## 3. 콘텐츠 및 AI 전략 (Content & AI Strategy)

### 3.1. 문제 콘텐츠 확보 파이프라인
* **초기 확보 (수동):**
    * 수동 수집 (출처, 라이선스 명시) 및 초기 문제 수량 확보.
    * **문제 콘텐츠 관리 페이지**를 통해 관리자가 문제 입력/수정/삭제 가능.
    * 입력은 PDF, Image, KaTex 형태 가능. DB에는 KaTex(수식) 및 Image(도식) 형태로 저장.
    * DB 저장 시, AI를 활용하여 초기 난이도를 설정함.
    * 수정은 KaTex 에디터를 통해 관리하며, 사용자용 KaTex 뷰어를 함께 제공.
* **지속적 확장 (AI 기반):**
    * 수동 수집된 문제를 기반으로 AI(LLM)가 다수(단일/복합 개념)의 **파생 문제**를 생성합니다.
    * AI 생성 문제에도 AI를 활용하여 난이도를 설정합니다.
    * **문제 링크 관리:** 낮은 난이도부터 최종 문제까지 순차적으로 풀 수 있도록 **문제 간 링크 정보**를 관리합니다.
    * AI 생성 문제는 관리자의 **수동 검토**를 거쳐 최종 DB에 저장됩니다 (임시 테이블 별도 관리).

### 3.2. 난이도 시스템 및 동적 조정
* **초기 난이도:** 10개 난이도 점수 체계를 기준으로 관리하며, 초기에는 관리자 검수 후 AI를 통해 각 문제별 난이도를 설정합니다.
* **동적 조정:** 사용자에게 제공된 후에는 **사용자 난이도 평점**을 수집하여 난이도 점수에 반영하고 조정합니다. (가중치 포함 공식 사용).

---

## 4. 시스템 및 기술 명세 (System & Technical Specifications)

### 4.1. 기술 스택 (Tech Stack)
* **Frontend:** Next.js (v14+), TypeScript, Tailwind CSS, KaTeX.
* **Backend & DB:** Supabase (PostgreSQL), Netlify Functions (Serverless).

### 4.2. 데이터 모델 (Data Model)
* **테이블 스키마:** PRD 내용을 참고하여 AI가 초안을 작성한 후, 개발팀과 확정 예정.

### 4.3. 배포 및 인프라 (Deployment & Infrastructure)
* **배포 환경:** Netlify를 사용하며, 서버리스 아키텍처 지향.
* **환경 변수:** 필요한 외부 API 키 및 DB URL 목록을 `.env` 파일에 관리하며 보안에 유의함.

---

## 5. 개발 단계 및 이정표 (Development Phases & Milestones)

* **Phase 1 (MVP):** 필수 기능 (회원가입, 1단계 문제 풀기, 기록 저장) 정의.
* **Phase 2 (확장):** 랭킹 시스템, AI 문제 생성 파이프라인, 관리자 페이지 등 추가 기능 정의.
